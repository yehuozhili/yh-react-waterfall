(this["webpackJsonpyh-react-waterfall"]=this["webpackJsonpyh-react-waterfall"]||[]).push([[0],{13:function(e,t,r){"use strict";r.r(t);var n=r(0),o=r.n(n),a=r(7),i=r.n(a),c=r(2),l=r(5),u=r(1);function s(e,t,r,n){if(e&&Array.isArray(e)){var a=e[t];if(o.a.isValidElement(a)){var i,c=null===(i=a.props)||void 0===i?void 0:i.style,l=Object(u.a)(Object(u.a)({},c),{},{position:"absolute",left:r,top:n});return o.a.cloneElement(a,Object(u.a)(Object(u.a)({},a.props),{},{style:l}))}return console.error("this child is invalid type",a),null}return console.error("children should be array,but get",typeof e),null}var h={overflow:"auto",width:"800px",height:"800px",position:"relative"};for(var d=function(e){var t=e.style,r=e.classnames,a=e.column,i=e.itemWidth,d=e.forceHeight,f=e.scrollCallback,m=e.wrapperRefCallback,p=Object(n.useState)(0),v=Object(c.a)(p,2),b=v[0],y=v[1],g=Object(n.useState)([]),j=Object(c.a)(g,2),O=j[0],w=j[1],x=Object(n.useState)(0),E=Object(c.a)(x,2),k=E[0],M=E[1],S=Object(n.useMemo)((function(){if(d)return d;var e,r=null!==(e=null===t||void 0===t?void 0:t.width)&&void 0!==e?e:"800px";return"string"===typeof r?parseFloat(r):r}),[d,t]),A=Object(n.useMemo)((function(){var e,r=null!==(e=null===t||void 0===t?void 0:t.height)&&void 0!==e?e:"800px";return"string"===typeof r?parseFloat(r):r}),[t]),C=Object(n.useMemo)((function(){return Object(u.a)(Object(u.a)({},h),t)}),[t]),F=Object(n.useMemo)((function(){for(var e=(S-i*a)/2,t=[],r=0;r<a;r++)t.push(e+i*r);return t}),[a,i,S]),T=Object(n.useMemo)((function(){return new Array(a).fill(0)}),[a]);Object(n.useEffect)((function(){var t=s(e.children,0,F[0],0);if(t){w([t]);var r=T[0],n=t.props["data-height"];if(!n)return void console.error("you should pass the data-height to specify every children height");T[0]=r+parseFloat(n)}return function(){window.clearTimeout(void 0)}}),[F,e.children]);var W=Object(n.useMemo)((function(){var t=e.children;return Array.isArray(t)?t.length:(console.error("children must be array"),0)}),[e.children]);Object(n.useEffect)((function(){var t=window.setTimeout((function(){if(O.length>0&&B.current){var t=B.current.scrollTop,r=function(e,t,r){var n=Math.min.apply(Math,Object(l.a)(e));return[e.findIndex((function(e){return e===n})),t+r-n]}(T,A,t),n=Object(c.a)(r,2),o=n[0],a=n[1];if(function(e,t,r){return e+1<t&&r>0}(b,W,a)){var i=b+1;y(i);var u=F[o],h=T[o],d=s(e.children,i,u,h);if(d){w((function(e){return[].concat(Object(l.a)(e),[d])}));var f=o,m=T[f],p=d.props["data-height"];if(!p)return void console.error("you should pass the data-height to specify every children height");T[f]=m+parseFloat(p)}}}}));return function(){window.clearTimeout(t)}}),[W,a,b,T,A,F,e.children,O,k]);var B=Object(n.useRef)(null);return Object(n.useEffect)((function(){var e;return B.current&&(e=function(){f?f(M):M((function(e){return e+1}))},B.current.addEventListener("scroll",e)),function(){B.current&&B.current.removeEventListener("scroll",e)}}),[f]),Object(n.useEffect)((function(){m&&m(B)}),[m]),o.a.createElement("div",{ref:B,style:C,className:r},O)},f=["http://dummyimage.com/200x100","http://dummyimage.com/200x200","http://dummyimage.com/200x100","http://dummyimage.com/200x500","http://dummyimage.com/200x800"],m=[],p=0;p<100;p++)m=m.concat(f);var v=function(){var e=Object(n.useState)(3),t=Object(c.a)(e,2),r=t[0],a=t[1];return o.a.createElement("div",{style:{display:"flex"}},o.a.createElement(d,{style:{border:"1px solid black"},column:r,itemWidth:220},m.map((function(e,t){var r=parseFloat(e.slice(e.length-3,e.length));return o.a.createElement("div",{key:t,style:{padding:"10px",boxSizing:"content-box"},"data-height":r+20},o.a.createElement("img",{src:e,alt:""}))}))),o.a.createElement("button",{onClick:function(){return a(3)},style:{height:"50px",width:"50px"}},"\u5207\u63623\u680f"),o.a.createElement("button",{onClick:function(){return a(2)},style:{height:"50px",width:"50px"}},"\u5207\u63622\u680f"),o.a.createElement("button",{onClick:function(){return a(1)},style:{height:"50px",width:"50px"}},"\u5207\u63621\u680f"))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(v,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},8:function(e,t,r){e.exports=r(13)}},[[8,1,2]]]);
//# sourceMappingURL=main.a7b5c465.chunk.js.map